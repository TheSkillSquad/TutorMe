# Netlify Redirects Configuration for TutorMe SPA
# This file handles all routing for the single-page application

# SPA Fallback - All non-file requests go to index.html
/*    /index.html   200

# API Routes - Redirect to serverless functions
/api/auth/*    /.netlify/functions/auth-handler    200
/api/user/*    /.netlify/functions/api-handler      200
/api/paypal/*  /.netlify/functions/api-handler      200
/api/twilio/*  /.netlify/functions/api-handler      200
/api/ai/*      /.netlify/functions/api-handler      200
/api/*         /.netlify/functions/api-handler      200

# Authentication Routes
/signin        /index.html   200
/signup        /index.html   200
/auth/*        /index.html   200

# Main Application Routes
/dashboard     /index.html   200
/profile       /index.html   200
/settings      /index.html   200
/tutors        /index.html   200
/students      /index.html   200
/sessions      /index.html   200
/courses       /index.html   200
/payments      /index.html   200

# Feature-specific Routes
/video/*       /index.html   200
/chat/*        /index.html   200
/courses/*     /index.html   200
/tutors/*      /index.html   200
/students/*    /index.html   200

# Legacy Routes (if any)
/old-path/*    /new-path/:splat  301

# Force HTTPS
http://*       https://:splat    301

# Remove trailing slashes
/:splat/       /:splat           301

# Canonical URL redirects
/www.tutorme.com/*   https://tutorme.com/:splat  301

# WebSocket proxy (if using external service)
/socket.io/*   https://your-websocket-service.com/:splat  200

# Static file optimizations
/static/*      /static/:splat    200
/_next/*       /_next/:splat     200
/images/*      /images/:splat     200
/favicon.ico   /favicon.ico       200
/robots.txt    /robots.txt        200
/sitemap.xml   /sitemap.xml       200

# Error page redirects
/404           /404.html          404
/500           /500.html          500

# Maintenance page (if needed)
/maintenance   /maintenance.html  200